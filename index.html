<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <title>Pokemon Gacha</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
  <style>
    body {
      background-image: url(https://images.unsplash.com/photo-1613771404721-1f92d799e49f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1169&q=80);
      background-size: cover;
      font-weight: 700;
    }

    .glass {
      background: rgba(255, 255, 255, 0.01);
      border-radius: 16px;
      box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
      backdrop-filter: blur(5px);
      -webkit-backdrop-filter: blur(5px);
      border: 1px solid rgba(255, 255, 255, 0.3);
      padding: 10px;
    }

    section {
      min-height: 80vh;
    }
  </style>
</head>

<body>
  <header>
    <div class="container text-center glass mt-3">
      <h1><strong>Gacha!!</strong></h1>
    </div>
  </header>
  <section>
    <div class="container mt-3">
      <div class="row">
        <div class="col-lg-6 col-md-12 mb-3">
          <div class="card text-center glass">
            <div class="card-header bg-white bg-opacity-25" id="pokemonName"></div>
            <div class="card-body bg-white bg-opacity-25">
              <div id="carouselExampleIndicators" class="carousel slide">
                <div class="carousel-indicators">
                  <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="0" class="active"
                    aria-current="true" aria-label="Slide 1"></button>
                  <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="1"
                    aria-label="Slide 2"></button>
                </div>
                <div class="carousel-inner" id="carouselInner"></div>
                <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators"
                  data-bs-slide="prev">
                  <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                  <span class="visually-hidden">Previous</span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators"
                  data-bs-slide="next">
                  <span class="carousel-control-next-icon" aria-hidden="true"></span>
                  <span class="visually-hidden">Next</span>
                </button>
              </div>
              <button class="btn btn-success" id="gachaButton">Gacha!</button>
            </div>
          </div>
        </div>
        <div class="col-lg-6 col-md-12 mb-5">
          <div class="accordion glass" id="accordionAbilities">
            <div class="accordion-item bg-white bg-opacity-25">
              <h2 class="accordion-header ">
                <button class="accordion-button bg-transparent" type="button" data-bs-toggle="collapse"
                  data-bs-target="#abilities" aria-expanded="true" aria-controls="abilities">
                  <h3>Abilities</h3>
                </button>
              </h2>
              <div id="abilities" class="accordion-collapse collapse show" data-bs-parent="#accordionAbilities">
                <div class="accordion-body" id="abilitiesBody"></div>
              </div>
            </div>
          </div>
          <div class="accordion glass mt-3" id="accordionPhysicalAttributes">
            <div class="accordion-item bg-white bg-opacity-25">
              <h2 class="accordion-header ">
                <button class="accordion-button bg-transparent" type="button" data-bs-toggle="collapse"
                  data-bs-target="#physicalAttributes" aria-expanded="true" aria-controls="physicalAttributes">
                  <h3>Physical Attributes</h3>
                </button>
              </h2>
              <div id="physicalAttributes" class="accordion-collapse collapse show"
                data-bs-parent="#accordionPhysicalAttributes">
                <div class="accordion-body " id="physicalAttributesBody"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="container text-center mb-3">
        <a href="#" target="_blank" id="apiLink" style="text-decoration: none;">source</a>
      </div>
    </div>
  </section>
  <footer>
    <div class="container text-center glass mb-2">
      &copy; 2023 Muhammad Akmal Irfansyah
    </div>
  </footer>
  <script>
    function getRandomPokemon() {
      const rand = Math.floor(Math.random() * 100) + 1;
      const apiUrl = `https://pokeapi.co/api/v2/pokemon/${rand}`;
      fetch(apiUrl)
        .then(response => response.json())
        .then(data => {
          const pokemonName = data.name;
          const pokemonImages = data.sprites;
          const pokemonAbilities = data.abilities;
          const pokemonHeight = data.height;
          const pokemonWeight = data.weight;

          document.getElementById('pokemonName').innerHTML = `
              <h1>${pokemonName.charAt(0).toUpperCase() + pokemonName.slice(1)}</h1>
            `;
          document.getElementById('carouselInner').innerHTML = `
              <div class="carousel-item active">
                <img src="${pokemonImages.front_default}" class="d-block w-100" alt="...">
              </div>
              <div class="carousel-item">
                <img src="${pokemonImages.back_default}" class="d-block w-100" alt="...">
              </div>
            `;
          document.getElementById('abilitiesBody').innerHTML = '';
          pokemonAbilities.forEach(ability => {
            const listItem = document.createElement('li');
            listItem.innerText = ability.ability.name.charAt(0).toUpperCase() + ability.ability.name.slice(1);
            document.getElementById('abilitiesBody').appendChild(listItem);
          });
          document.getElementById('physicalAttributesBody').innerHTML = `
              <li>Height: ${pokemonHeight}</li>
              <li>Weight: ${pokemonWeight}</li>
            `;
          document.getElementById('apiLink').href = apiUrl;
        });
    }

    document.getElementById('gachaButton').addEventListener('click', getRandomPokemon);
  </script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz"
    crossorigin="anonymous"></script>
</body>

</html>